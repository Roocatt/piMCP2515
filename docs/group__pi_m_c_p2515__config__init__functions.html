<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>piMCP2515: Init and Config Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">piMCP2515
   </div>
   <div id="projectbrief">A library for controlling an MCP2515 on the Raspberry Pi and Raspberry Pi Pico</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group__pi_m_c_p2515__config__init__functions.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Init and Config Functions </div></div>
</div><!--header-->
<div class="contents">

<p>These functions handle initialization and configuration.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga44e59c531658d8e58a489c4723b9b766" id="r_ga44e59c531658d8e58a489c4723b9b766"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga44e59c531658d8e58a489c4723b9b766">mcp2515_bitrate_simplified</a> (pi_mcp2515_t *pi_mcp2515, uint16_t baud_rate_kbps)</td></tr>
<tr class="memdesc:ga44e59c531658d8e58a489c4723b9b766"><td class="mdescLeft">&#160;</td><td class="mdescRight">A simplified bitrate setting function.  <br /></td></tr>
<tr class="memitem:ga92c0cb2502cd49130de2e8f276443648" id="r_ga92c0cb2502cd49130de2e8f276443648"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga92c0cb2502cd49130de2e8f276443648">mcp2515_bitrate_full_optional</a> (pi_mcp2515_t *pi_mcp2515, uint16_t baud_rate_kbps, uint8_t sjw, uint8_t prescaler, uint8_t prseg_tqps, uint8_t phseg_tqps1, uint8_t phseg_tqps2, bool sof, bool wakfil, bool sam, bool btlmode)</td></tr>
<tr class="memdesc:ga92c0cb2502cd49130de2e8f276443648"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the bitrate and all other CNF register stored parameters.  <br /></td></tr>
<tr class="memitem:ga4f611be7a4d727660a3a0aa3975de4c0" id="r_ga4f611be7a4d727660a3a0aa3975de4c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4f611be7a4d727660a3a0aa3975de4c0">mcp2515_cnf_set</a> (pi_mcp2515_t *pi_mcp2515, uint8_t cnf1, uint8_t cnf2, uint8_t cnf3)</td></tr>
<tr class="memdesc:ga4f611be7a4d727660a3a0aa3975de4c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the values of all CNF register.  <br /></td></tr>
<tr class="memitem:ga33a694fc68a059080f9a56d8699c78ef" id="r_ga33a694fc68a059080f9a56d8699c78ef"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga33a694fc68a059080f9a56d8699c78ef">mcp2515_cnf_get</a> (pi_mcp2515_t *pi_mcp2515, uint8_t cnf)</td></tr>
<tr class="memdesc:ga33a694fc68a059080f9a56d8699c78ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value of a CNF register.  <br /></td></tr>
<tr class="memitem:ga1d424b8d8fb533f38da40913a8112578" id="r_ga1d424b8d8fb533f38da40913a8112578"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1d424b8d8fb533f38da40913a8112578">mcp2515_init</a> (pi_mcp2515_t **pi_mcp2515, uint8_t spi_channel, uint8_t tx_pin, uint8_t rx_pin, uint8_t sck_pin, uint8_t cs_pin, uint32_t spi_clock, uint8_t osc_mhz)</td></tr>
<tr class="memdesc:ga1d424b8d8fb533f38da40913a8112578"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup and prepare a pi_mcp2515_t structure based on the parameters provided.  <br /></td></tr>
<tr class="memitem:gae0a64b823ea6f746f856bc44291fb5ae" id="r_gae0a64b823ea6f746f856bc44291fb5ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae0a64b823ea6f746f856bc44291fb5ae">mcp2515_conf_spi_devpath</a> (pi_mcp2515_t *pi_mcp2515, char *spidev_path)</td></tr>
<tr class="memdesc:gae0a64b823ea6f746f856bc44291fb5ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Override the default path for the spi device (ex /dev/spi0).  <br /></td></tr>
<tr class="memitem:ga6d4c860dd438a1b194b39e7172f7701f" id="r_ga6d4c860dd438a1b194b39e7172f7701f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6d4c860dd438a1b194b39e7172f7701f">mcp2515_conf_gpio_devpath</a> (pi_mcp2515_t *pi_mcp2515, char *gpiodev_path)</td></tr>
<tr class="memdesc:ga6d4c860dd438a1b194b39e7172f7701f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Override the default path for the gpio device (ex /dev/gpio0).  <br /></td></tr>
<tr class="memitem:gaa4a5c0d11eec00a0f862b8a80117ec06" id="r_gaa4a5c0d11eec00a0f862b8a80117ec06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa4a5c0d11eec00a0f862b8a80117ec06">mcp2515_free</a> (pi_mcp2515_t *pi_mcp2515)</td></tr>
<tr class="memdesc:gaa4a5c0d11eec00a0f862b8a80117ec06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleanup after everything.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>These functions handle initialization and configuration. </p>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ga92c0cb2502cd49130de2e8f276443648" name="ga92c0cb2502cd49130de2e8f276443648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92c0cb2502cd49130de2e8f276443648">&#9670;&#160;</a></span>mcp2515_bitrate_full_optional()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mcp2515_bitrate_full_optional </td>
          <td>(</td>
          <td class="paramtype">pi_mcp2515_t *</td>          <td class="paramname"><span class="paramname"><em>pi_mcp2515</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>baud_rate_kbps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>sjw</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>prescaler</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>prseg_tqps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>phseg_tqps1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>phseg_tqps2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>sof</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>wakfil</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>sam</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>btlmode</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the bitrate and all other CNF register stored parameters. </p>
<p>This function accepts all possible configurable options, while <span class="tt">mcp2515_bitrate_simplified</span> can be used for a simplified process.</p>
<p>TODO first draft. Test/validate/fix. Make sure this is right.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pi_mcp2515</td><td>the piMCP2515 handle. </td></tr>
    <tr><td class="paramname">baud_rate_kbps</td><td>the baud rate to use in kbps. Commonly either 500 or 1000. </td></tr>
    <tr><td class="paramname">sjw</td><td>the synchronization jump width in Tqs (1-4). </td></tr>
    <tr><td class="paramname">prescaler</td><td>the prescaler divisor (0-63) </td></tr>
    <tr><td class="paramname">prseg_tqps</td><td>the prop segment Tqs/segment </td></tr>
    <tr><td class="paramname">phseg_tqps1</td><td>the phase segment 1 Tqs/segment </td></tr>
    <tr><td class="paramname">phseg_tqps2</td><td>the phase segment 2 Tqs/segment </td></tr>
    <tr><td class="paramname">sof</td><td>if start-of-frame signal is enabled. </td></tr>
    <tr><td class="paramname">wakfil</td><td>if wakeup filter should be enabled. </td></tr>
    <tr><td class="paramname">sam</td><td>is bus line should be sampled 3 times at sample point (otherwise it is sampled once). </td></tr>
    <tr><td class="paramname">btlmode</td><td>if BTLMODE is enabled. true: PS2 length is determined by PHSEG2[2:0] (PHSEG2 values originate from <code class="param">phseg_tqps2</code>). false: PS2 length is the greater of PS1 and IPT (2 Tqs) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>zero if success, otherwise non-zero. </dd></dl>

</div>
</div>
<a id="ga44e59c531658d8e58a489c4723b9b766" name="ga44e59c531658d8e58a489c4723b9b766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga44e59c531658d8e58a489c4723b9b766">&#9670;&#160;</a></span>mcp2515_bitrate_simplified()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mcp2515_bitrate_simplified </td>
          <td>(</td>
          <td class="paramtype">pi_mcp2515_t *</td>          <td class="paramname"><span class="paramname"><em>pi_mcp2515</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>baud_rate_kbps</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A simplified bitrate setting function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pi_mcp2515</td><td>the piMCP2515 handle. </td></tr>
    <tr><td class="paramname">baud_rate_kbps</td><td>the baud rate to use in kbps. Commonly either 500 or 1000. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>zero if success, otherwise non-zero. </dd></dl>

</div>
</div>
<a id="ga33a694fc68a059080f9a56d8699c78ef" name="ga33a694fc68a059080f9a56d8699c78ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga33a694fc68a059080f9a56d8699c78ef">&#9670;&#160;</a></span>mcp2515_cnf_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t mcp2515_cnf_get </td>
          <td>(</td>
          <td class="paramtype">pi_mcp2515_t *</td>          <td class="paramname"><span class="paramname"><em>pi_mcp2515</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>cnf</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the value of a CNF register. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pi_mcp2515</td><td>the piMCP2515 handle. </td></tr>
    <tr><td class="paramname">cnf</td><td>The CNF register index such that <span class="tt">cnf</span> being <span class="tt">1</span> will fetch from CNF1, etc. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The value of the register. </dd></dl>

</div>
</div>
<a id="ga4f611be7a4d727660a3a0aa3975de4c0" name="ga4f611be7a4d727660a3a0aa3975de4c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f611be7a4d727660a3a0aa3975de4c0">&#9670;&#160;</a></span>mcp2515_cnf_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mcp2515_cnf_set </td>
          <td>(</td>
          <td class="paramtype">pi_mcp2515_t *</td>          <td class="paramname"><span class="paramname"><em>pi_mcp2515</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>cnf1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>cnf2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>cnf3</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the values of all CNF register. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pi_mcp2515</td><td>the piMCP2515 handle. </td></tr>
    <tr><td class="paramname">cnf1</td><td>the value to use for the CNF1 register. </td></tr>
    <tr><td class="paramname">cnf2</td><td>the value to use for the CNF2 register. </td></tr>
    <tr><td class="paramname">cnf3</td><td>the value to use for the CNF3 register. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>zero if success, otherwise non-zero. </dd></dl>

</div>
</div>
<a id="ga6d4c860dd438a1b194b39e7172f7701f" name="ga6d4c860dd438a1b194b39e7172f7701f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d4c860dd438a1b194b39e7172f7701f">&#9670;&#160;</a></span>mcp2515_conf_gpio_devpath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp2515_conf_gpio_devpath </td>
          <td>(</td>
          <td class="paramtype">pi_mcp2515_t *</td>          <td class="paramname"><span class="paramname"><em>pi_mcp2515</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>gpiodev_path</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Override the default path for the gpio device (ex /dev/gpio0). </p>
<p>NOOP unless built for spidev.</p>
<p>This function generally will not need to be used as the library should be able to figure out the device patch. Use this only if it can't in your use case. If it is unable to find the path for you, please open an issue on the project with the details so that can be fixed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pi_mcp2515</td><td>the piMCP2515 handle. </td></tr>
    <tr><td class="paramname">gpiodev_path</td><td>the alternate GPIO device path to use. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae0a64b823ea6f746f856bc44291fb5ae" name="gae0a64b823ea6f746f856bc44291fb5ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae0a64b823ea6f746f856bc44291fb5ae">&#9670;&#160;</a></span>mcp2515_conf_spi_devpath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp2515_conf_spi_devpath </td>
          <td>(</td>
          <td class="paramtype">pi_mcp2515_t *</td>          <td class="paramname"><span class="paramname"><em>pi_mcp2515</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>spidev_path</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Override the default path for the spi device (ex /dev/spi0). </p>
<p>NOOP unless built for spidev.</p>
<p>This function generally will not need to be used as the library should be able to figure out the device patch. Use this only if it can't in your use case. If it is unable to find the path for you, please open an issue on the project with the details so that can be fixed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pi_mcp2515</td><td>the piMCP2515 handle. </td></tr>
    <tr><td class="paramname">spidev_path</td><td>the alternate SPI device path to use. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa4a5c0d11eec00a0f862b8a80117ec06" name="gaa4a5c0d11eec00a0f862b8a80117ec06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa4a5c0d11eec00a0f862b8a80117ec06">&#9670;&#160;</a></span>mcp2515_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp2515_free </td>
          <td>(</td>
          <td class="paramtype">pi_mcp2515_t *</td>          <td class="paramname"><span class="paramname"><em>pi_mcp2515</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleanup after everything. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pi_mcp2515</td><td>the piMCP2515 handle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1d424b8d8fb533f38da40913a8112578" name="ga1d424b8d8fb533f38da40913a8112578"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1d424b8d8fb533f38da40913a8112578">&#9670;&#160;</a></span>mcp2515_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mcp2515_init </td>
          <td>(</td>
          <td class="paramtype">pi_mcp2515_t **</td>          <td class="paramname"><span class="paramname"><em>pi_mcp2515</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>spi_channel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>tx_pin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>rx_pin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>sck_pin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>cs_pin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>spi_clock</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>osc_mhz</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup and prepare a pi_mcp2515_t structure based on the parameters provided. </p>
<p>This will still require one of the bitrate setting functions or mcp2515_cnf_set to be used to set up the CNF registers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pi_mcp2515</td><td>the piMCP2515 handle. </td></tr>
    <tr><td class="paramname">spi_channel</td><td>the SPI channel to use which may be <span class="tt">0</span> or <span class="tt">1</span>. </td></tr>
    <tr><td class="paramname">sck_pin</td><td>the SCK pin for SPI communication. </td></tr>
    <tr><td class="paramname">tx_pin</td><td>the TX pin for SPI communication. </td></tr>
    <tr><td class="paramname">rx_pin</td><td>the RX pin for SPI communication. </td></tr>
    <tr><td class="paramname">spi_clock</td><td>the frequency to use for SPI communication in Hz. </td></tr>
    <tr><td class="paramname">osc_mhz</td><td>the frequency of the MCP2515 oscillator in MHz. </td></tr>
    <tr><td class="paramname">cs_pin</td><td>the GPIO pin to use for SPI chip select. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>zero if success, otherwise non-zero </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
